@page "{id:int}"
@model CinemaBooking.Pages.Admin.Movie.UpdateMovieModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "/Pages/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Edit Movie";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <link rel="stylesheet" type="text/css" href="~/admin/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="~/admin/assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="~/admin/assets/css/select2.min.css">
    <link rel="stylesheet" type="text/css" href="~/admin/assets/css/style.css">
</head>

<body>
    <div class="page-wrapper">
        <div class="content">
            <div class="row">
                <div class="col-sm-4 col-3">
                    <h4 class="page-title">Edit Movie</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <form method="post" enctype="multipart/form-data">
                        <!-- Hidden field for Movie ID -->
                        <input type="hidden" asp-for="Movie.MovieId" />

                        <!-- Movie Title -->
                        <div class="form-group">
                            <label for="title">Movie Title</label>
                            <input type="text" class="form-control" asp-for="Movie.Title" required />
                        </div>

                        <!-- Category -->
                        <div class="form-group">
                            <label for="categories">Category</label>
                            <select class="form-control" asp-for="CategoryIds" required>
                                @foreach (var category in Model.Categories)
                                {
                                    <option value="@category.CategoryId">
                                        @category.CategoryName
                                    </option>
                                }
                            </select>
                        </div>

                        <!-- Length -->
                        <div class="form-group">
                            <label for="length">Length (minutes)</label>
                            <input type="number" class="form-control" asp-for="Movie.Length" required />
                        </div>

                        <!-- Description -->
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea class="form-control" asp-for="Movie.Description" rows="4" required></textarea>
                        </div>

                        <!-- Age Limit -->
                        <div class="form-group">
                            <label for="ageLimit">Age Limit</label>
                            <input type="number" class="form-control" asp-for="Movie.AgeLimit" required />
                        </div>

                        <!-- Warning Text -->
                        <div class="form-group">
                            <label for="warningText">Warning Text</label>
                            <input type="text" class="form-control" asp-for="Movie.WarningText" />
                        </div>

                        <!-- Publish Time -->
                        <div class="form-group">
                            <label for="publishTime">Publish Time</label>
                            <input type="datetime-local" class="form-control" asp-for="Movie.PublishTime" required />
                        </div>

                        <!-- Origin -->
                        <div class="form-group">
                            <label for="country">Country</label>
                            <input type="text" class="form-control" asp-for="Movie.Country" required />
                        </div>

                        <!-- Image (Optional) -->
                        <div class="form-group">
                            <label for="image">Movie Poster</label>
                            <input type="file" class="form-control-file" asp-for="Image" accept="image/*" />
                            <img src="@Model.Movie.Image" alt="Current Poster" width="100" />
                        </div>

                        <!-- Image Background (Optional) -->
                        <div class="form-group">
                            <label for="imageBackground">Background Image</label>
                            <input type="file" class="form-control-file" asp-for="ImageBackground" accept="image/*" />
                            <img src="@Model.Movie.ImageBackground" alt="Current Background" width="100" />
                        </div>
                        <div class="form-group">
                            <label for="linkVideoUrl">Trailer Video</label>
                            <input type="url" class="form-control" asp-for="Movie.VideoTrailer" id="linkVideoUrl" >
                        </div>
                        <!-- Status -->
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select class="form-control" asp-for="Movie.Status">
                                <option value="1" >Released</option>
                                <option value="2" >Unreleased</option>
                            </select>
                        </div>

                        <!-- Director -->
                        <div class="form-group">
                            <label for="director">Director</label>
                            <select class="form-control" asp-for="Movie.DirectorId" required>
                                @foreach (var director in Model.Directors)
                                {
                                    <option value="@director.Value">
                                        @director.Text
                                    </option>
                                }
                            </select>
                        </div>

                        <!-- Actors -->
                        <div class="form-group">
                            <label for="actors">Actors</label>
                            <select class="form-control" asp-for="ActorIds" required>
                                @foreach (var actor in Model.Actors)
                                {
                                    <option value="@actor.Value">
                                        @actor.Text
                                    </option>
                                }
                            </select>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="btn btn-primary">Update Movie</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="sidebar-overlay" data-reff=""></div>
    <script src="~/admin/assets/js/jquery-3.2.1.min.js"></script>
    <script src="~/admin/assets/js/select2.min.js"></script>
    <script src="~/admin/assets/js/app.js"></script>
</body>

</html>
